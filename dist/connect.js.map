{"version":3,"file":"connect.js","sources":["../src/state.ts","../src/events.ts","../src/meta.ts","../src/actions.ts","../src/index.ts"],"sourcesContent":["export interface StateOptions {\r\n  persistence?: 'window' | 'session' | 'local';\r\n  expiry?: number; // milliseconds from now\r\n}\r\n\r\ninterface StateStore {\r\n  value: unknown;\r\n  expiry?: number;\r\n  persistence: string;\r\n}\r\n\r\ntype StateCallback = (value: unknown, oldValue: unknown) => void;\r\n\r\nconst subscribers = new Map<string, Set<StateCallback>>();\r\nconst memoryStore = new Map<string, StateStore>();\r\nconst STORAGE_PREFIX = 'cc:';\r\n\r\nfunction getStorage(persistence: string): Storage | null {\r\n  switch (persistence) {\r\n    case 'session':\r\n      return typeof sessionStorage !== 'undefined' ? sessionStorage : null;\r\n    case 'local':\r\n      return typeof localStorage !== 'undefined' ? localStorage : null;\r\n    default:\r\n      return null; // window/memory\r\n  }\r\n}\r\n\r\nfunction isExpired(store: StateStore): boolean {\r\n  return store.expiry !== undefined && Date.now() > store.expiry;\r\n}\r\n\r\nexport const state = {\r\n  /**\r\n   * Get a value from state\r\n   */\r\n  get<T = unknown>(key: string): T | undefined {\r\n    // Check memory first\r\n    const mem = memoryStore.get(key);\r\n    if (mem) {\r\n      if (isExpired(mem)) {\r\n        this.delete(key);\r\n        return undefined;\r\n      }\r\n      return mem.value as T;\r\n    }\r\n\r\n    // Check persistent stores (session first, then local)\r\n    for (const storageType of ['session', 'local'] as const) {\r\n      const storage = getStorage(storageType);\r\n      if (!storage) continue;\r\n\r\n      const raw = storage.getItem(`${STORAGE_PREFIX}${key}`);\r\n      if (raw) {\r\n        try {\r\n          const parsed = JSON.parse(raw) as StateStore;\r\n          if (isExpired(parsed)) {\r\n            storage.removeItem(`${STORAGE_PREFIX}${key}`);\r\n            continue;\r\n          }\r\n          return parsed.value as T;\r\n        } catch {\r\n          // Invalid JSON, remove it\r\n          storage.removeItem(`${STORAGE_PREFIX}${key}`);\r\n        }\r\n      }\r\n    }\r\n\r\n    return undefined;\r\n  },\r\n\r\n  /**\r\n   * Set a value in state\r\n   */\r\n  set(key: string, value: unknown, options: StateOptions = {}): void {\r\n    const { persistence = 'window', expiry } = options;\r\n    const oldValue = this.get(key);\r\n\r\n    const store: StateStore = {\r\n      value,\r\n      persistence,\r\n      expiry: expiry ? Date.now() + expiry : undefined\r\n    };\r\n\r\n    const storage = getStorage(persistence);\r\n    if (storage) {\r\n      storage.setItem(`${STORAGE_PREFIX}${key}`, JSON.stringify(store));\r\n    } else {\r\n      memoryStore.set(key, store);\r\n    }\r\n\r\n    // Notify subscribers\r\n    const subs = subscribers.get(key);\r\n    if (subs) {\r\n      subs.forEach(cb => {\r\n        try {\r\n          cb(value, oldValue);\r\n        } catch (e) {\r\n          console.error(`Error in state subscriber for \"${key}\":`, e);\r\n        }\r\n      });\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Check if a key exists in state\r\n   */\r\n  has(key: string): boolean {\r\n    return this.get(key) !== undefined;\r\n  },\r\n\r\n  /**\r\n   * Delete a key from state\r\n   */\r\n  delete(key: string): void {\r\n    const oldValue = this.get(key);\r\n\r\n    // Remove from all stores\r\n    memoryStore.delete(key);\r\n\r\n    const session = getStorage('session');\r\n    const local = getStorage('local');\r\n\r\n    session?.removeItem(`${STORAGE_PREFIX}${key}`);\r\n    local?.removeItem(`${STORAGE_PREFIX}${key}`);\r\n\r\n    // Notify subscribers of deletion\r\n    const subs = subscribers.get(key);\r\n    if (subs && oldValue !== undefined) {\r\n      subs.forEach(cb => {\r\n        try {\r\n          cb(undefined, oldValue);\r\n        } catch (e) {\r\n          console.error(`Error in state subscriber for \"${key}\":`, e);\r\n        }\r\n      });\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Subscribe to changes on a key\r\n   */\r\n  subscribe(key: string, callback: StateCallback): void {\r\n    if (!subscribers.has(key)) {\r\n      subscribers.set(key, new Set());\r\n    }\r\n    subscribers.get(key)!.add(callback);\r\n  },\r\n\r\n  /**\r\n   * Unsubscribe from changes on a key\r\n   */\r\n  unsubscribe(key: string, callback: StateCallback): void {\r\n    subscribers.get(key)?.delete(callback);\r\n  },\r\n\r\n  /**\r\n   * Clear all state (useful for testing or logout)\r\n   */\r\n  clear(): void {\r\n    // Clear memory\r\n    memoryStore.clear();\r\n\r\n    // Clear persistent storage with our prefix\r\n    for (const storageType of ['session', 'local'] as const) {\r\n      const storage = getStorage(storageType);\r\n      if (!storage) continue;\r\n\r\n      const keysToRemove: string[] = [];\r\n      for (let i = 0; i < storage.length; i++) {\r\n        const key = storage.key(i);\r\n        if (key?.startsWith(STORAGE_PREFIX)) {\r\n          keysToRemove.push(key);\r\n        }\r\n      }\r\n      keysToRemove.forEach(k => storage.removeItem(k));\r\n    }\r\n\r\n    // Clear subscribers\r\n    subscribers.clear();\r\n  }\r\n};\r\n","export type EventHandler<T = unknown> = (payload: T) => void;\r\n\r\nconst handlers = new Map<string, Set<EventHandler>>();\r\n\r\nexport const events = {\r\n  /**\r\n   * Emit an event with optional payload\r\n   */\r\n  emit<T = unknown>(eventName: string, payload?: T): void {\r\n    const eventHandlers = handlers.get(eventName);\r\n    if (!eventHandlers) return;\r\n\r\n    eventHandlers.forEach(handler => {\r\n      try {\r\n        handler(payload);\r\n      } catch (e) {\r\n        console.error(`Error in event handler for \"${eventName}\":`, e);\r\n      }\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Subscribe to an event\r\n   */\r\n  on<T = unknown>(eventName: string, handler: EventHandler<T>): void {\r\n    if (!handlers.has(eventName)) {\r\n      handlers.set(eventName, new Set());\r\n    }\r\n    handlers.get(eventName)!.add(handler as EventHandler);\r\n  },\r\n\r\n  /**\r\n   * Unsubscribe from an event\r\n   */\r\n  off<T = unknown>(eventName: string, handler: EventHandler<T>): void {\r\n    handlers.get(eventName)?.delete(handler as EventHandler);\r\n  },\r\n\r\n  /**\r\n   * Subscribe to an event once (auto-unsubscribes after first call)\r\n   */\r\n  once<T = unknown>(eventName: string, handler: EventHandler<T>): void {\r\n    const wrapper: EventHandler<T> = (payload) => {\r\n      this.off(eventName, wrapper);\r\n      handler(payload);\r\n    };\r\n    this.on(eventName, wrapper);\r\n  },\r\n\r\n  /**\r\n   * Clear all handlers for an event, or all events if no name provided\r\n   */\r\n  clear(eventName?: string): void {\r\n    if (eventName) {\r\n      handlers.delete(eventName);\r\n    } else {\r\n      handlers.clear();\r\n    }\r\n  }\r\n};\r\n","export interface MetaStore {\r\n  env: string;\r\n  page: Record<string, unknown>;\r\n  site: Record<string, unknown>;\r\n  features: Record<string, boolean>;\r\n  [key: string]: unknown;\r\n}\r\n\r\nlet metaData: MetaStore = {\r\n  env: 'production',\r\n  page: {},\r\n  site: {},\r\n  features: {}\r\n};\r\n\r\n/**\r\n * Get a nested value from an object using dot notation\r\n */\r\nfunction getNestedValue(obj: Record<string, unknown>, path: string): unknown {\r\n  return path.split('.').reduce((current: unknown, key) => {\r\n    if (current && typeof current === 'object' && key in current) {\r\n      return (current as Record<string, unknown>)[key];\r\n    }\r\n    return undefined;\r\n  }, obj);\r\n}\r\n\r\nexport const meta = {\r\n  /**\r\n   * Initialize meta data (typically called once at app startup)\r\n   */\r\n  init(data: Partial<MetaStore>): void {\r\n    metaData = { ...metaData, ...data };\r\n  },\r\n\r\n  /**\r\n   * Get meta value by key (supports dot notation for nested values)\r\n   * @example meta.get('env') // 'production'\r\n   * @example meta.get('page.title') // 'Home'\r\n   * @example meta.get('features.beta') // true\r\n   */\r\n  get<T = unknown>(key: string): T | undefined {\r\n    // Check for top-level key first\r\n    if (key in metaData && !key.includes('.')) {\r\n      return metaData[key] as T;\r\n    }\r\n    // Support dot notation\r\n    return getNestedValue(metaData, key) as T | undefined;\r\n  },\r\n\r\n  /**\r\n   * Check if a meta key exists and is truthy\r\n   * Useful for feature flags: meta.has('features.beta')\r\n   */\r\n  has(key: string): boolean {\r\n    const value = this.get(key);\r\n    return value !== undefined && value !== null && value !== false;\r\n  },\r\n\r\n  /**\r\n   * Set a meta value at runtime\r\n   */\r\n  set(key: string, value: unknown): void {\r\n    if (!key.includes('.')) {\r\n      metaData[key] = value;\r\n      return;\r\n    }\r\n\r\n    // Handle nested keys\r\n    const parts = key.split('.');\r\n    const lastKey = parts.pop()!;\r\n    let current: Record<string, unknown> = metaData;\r\n\r\n    for (const part of parts) {\r\n      if (!(part in current) || typeof current[part] !== 'object') {\r\n        current[part] = {};\r\n      }\r\n      current = current[part] as Record<string, unknown>;\r\n    }\r\n\r\n    current[lastKey] = value;\r\n  },\r\n\r\n  /**\r\n   * Get all meta data (for debugging)\r\n   */\r\n  getAll(): MetaStore {\r\n    return { ...metaData };\r\n  }\r\n};\r\n","export interface ApiOptions extends Omit<RequestInit, 'method' | 'body'> {\r\n  body?: unknown;\r\n  timeout?: number;\r\n}\r\n\r\nexport interface ApiResponse<T = unknown> {\r\n  data: T;\r\n  status: number;\r\n  ok: boolean;\r\n}\r\n\r\nexport const actions = {\r\n  /**\r\n   * Make an API request\r\n   */\r\n  async api<T = unknown>(\r\n    url: string,\r\n    method: 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE' = 'GET',\r\n    options: ApiOptions = {}\r\n  ): Promise<ApiResponse<T>> {\r\n    const { body, timeout = 30000, headers = {}, ...restOptions } = options;\r\n\r\n    const controller = new AbortController();\r\n    const timeoutId = setTimeout(() => controller.abort(), timeout);\r\n\r\n    try {\r\n      const fetchOptions: RequestInit = {\r\n        method,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          ...headers\r\n        },\r\n        signal: controller.signal,\r\n        ...restOptions\r\n      };\r\n\r\n      if (body !== undefined && method !== 'GET') {\r\n        fetchOptions.body = JSON.stringify(body);\r\n      }\r\n\r\n      const response = await fetch(url, fetchOptions);\r\n      clearTimeout(timeoutId);\r\n\r\n      let data: T;\r\n      const contentType = response.headers.get('content-type');\r\n\r\n      if (contentType?.includes('application/json')) {\r\n        data = await response.json();\r\n      } else {\r\n        data = await response.text() as unknown as T;\r\n      }\r\n\r\n      return {\r\n        data,\r\n        status: response.status,\r\n        ok: response.ok\r\n      };\r\n    } catch (error) {\r\n      clearTimeout(timeoutId);\r\n\r\n      if (error instanceof Error && error.name === 'AbortError') {\r\n        throw new Error(`Request timeout after ${timeout}ms`);\r\n      }\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Focus an element by selector\r\n   */\r\n  focus(selector: string): boolean {\r\n    const el = document.querySelector<HTMLElement>(selector);\r\n    if (el) {\r\n      el.focus();\r\n      return true;\r\n    }\r\n    return false;\r\n  },\r\n\r\n  /**\r\n   * Scroll an element into view\r\n   */\r\n  scroll(selector: string, options?: ScrollIntoViewOptions): boolean {\r\n    const el = document.querySelector(selector);\r\n    if (el) {\r\n      el.scrollIntoView(options ?? { behavior: 'smooth' });\r\n      return true;\r\n    }\r\n    return false;\r\n  },\r\n\r\n  /**\r\n   * Delay execution for a specified time\r\n   */\r\n  delay(ms: number): Promise<void> {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n  },\r\n\r\n  /**\r\n   * Copy text to clipboard\r\n   */\r\n  async copyToClipboard(text: string): Promise<boolean> {\r\n    try {\r\n      await navigator.clipboard.writeText(text);\r\n      return true;\r\n    } catch {\r\n      // Fallback for older browsers\r\n      const textarea = document.createElement('textarea');\r\n      textarea.value = text;\r\n      textarea.style.position = 'fixed';\r\n      textarea.style.opacity = '0';\r\n      document.body.appendChild(textarea);\r\n      textarea.select();\r\n\r\n      try {\r\n        document.execCommand('copy');\r\n        return true;\r\n      } catch {\r\n        return false;\r\n      } finally {\r\n        document.body.removeChild(textarea);\r\n      }\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Read from clipboard\r\n   */\r\n  async readClipboard(): Promise<string | null> {\r\n    try {\r\n      return await navigator.clipboard.readText();\r\n    } catch {\r\n      return null;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Dispatch a custom DOM event on an element\r\n   */\r\n  dispatchEvent(selector: string, eventName: string, detail?: unknown): boolean {\r\n    const el = document.querySelector(selector);\r\n    if (el) {\r\n      el.dispatchEvent(new CustomEvent(eventName, {\r\n        detail,\r\n        bubbles: true,\r\n        composed: true\r\n      }));\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n};\r\n","import { state, StateOptions } from './state';\r\nimport { events, EventHandler } from './events';\r\nimport { meta, MetaStore } from './meta';\r\nimport { actions, ApiOptions, ApiResponse } from './actions';\r\n\r\nexport interface CC {\r\n  state: typeof state;\r\n  events: typeof events;\r\n  meta: typeof meta;\r\n  actions: typeof actions;\r\n}\r\n\r\nexport const cc: CC = {\r\n  state,\r\n  events,\r\n  meta,\r\n  actions\r\n};\r\n\r\n// Auto-attach to window in browser environments\r\nif (typeof window !== 'undefined') {\r\n  (window as unknown as { cc: CC }).cc = cc;\r\n}\r\n\r\n// Named exports for ESM usage\r\nexport { state, events, meta, actions };\r\nexport type { StateOptions, EventHandler, MetaStore, ApiOptions, ApiResponse };\r\n\r\n// Default export\r\nexport default cc;\r\n"],"names":[],"mappings":"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"}